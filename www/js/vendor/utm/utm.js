!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).utm={})}(this,function(t){"use strict";var e=.9996,n=.00669438,o=Math.pow(n,2),r=Math.pow(n,3),a=n/(1-n),h=Math.sqrt(1-n),i=(1-h)/(1+h),u=Math.pow(i,2),f=Math.pow(i,3),w=Math.pow(i,4),M=Math.pow(i,5),s=1-n/4-3*o/64-5*r/256,p=3*n/8+3*o/32+45*r/1024,d=15*o/256+45*r/1024,g=35*r/3072,b=1.5*i-27/32*f+269/512*M,m=21/16*u-55/32*w,c=151/96*f-417/128*M,l=1097/512*w,v=6378137,E="CDEFGHJKLMNPQRSTUVWXX";function L(t){return 6*(t-1)-180+3}function R(t){return t/Math.PI*180}function z(t){return t*Math.PI/180}t.fromLatLon=function(t,o,r){if(t>84||t<-80)throw new RangeError("latitude out of range (must be between 80 deg S and 84 deg N)");if(o>180||o<-180)throw new RangeError("longitude out of range (must be between 180 deg W and 180 deg E)");var h,i=z(t),u=Math.sin(i),f=Math.cos(i),w=Math.tan(i),M=Math.pow(w,2),b=Math.pow(w,4);h=void 0===r?function(t,e){if(56<=t&&t<64&&3<=e&&e<12)return 32;if(72<=t&&t<=84&&e>=0){if(e<9)return 31;if(e<21)return 33;if(e<33)return 35;if(e<42)return 37}return Math.floor((e+180)/6)+1}(t,o):r;var m=function(t){return-80<=t&&t<=84?E[Math.floor((t+80)/8)]:null}(t),c=z(o),l=z(L(h)),R=v/Math.sqrt(1-n*u*u),x=a*f*f,y=f*(c-l),N=Math.pow(y,2),P=Math.pow(y,3),q=Math.pow(y,4),C=Math.pow(y,5),X=Math.pow(y,6),j=v*(s*i-p*Math.sin(2*i)+d*Math.sin(4*i)-g*Math.sin(6*i)),I=e*(j+R*w*(N/2+q/24*(5-M+9*x+4*x*x)+X/720*(61-58*M+b+600*x-330*a)));return t<0&&(I+=1e7),{easting:e*R*(y+P/6*(1-M+x)+C/120*(5-18*M+b+72*x-58*a))+5e5,northing:I,zoneNum:h,zoneLetter:m}},t.toLatLon=function(t,o,r,h,u,f){if(f=void 0===f||f,!h&&void 0===u)throw new Error("either zoneLetter or northern needs to be set");if(h&&void 0!==u)throw new Error("set either zoneLetter or northern, but not both");if(f){if(t<1e5||1e6<=t)throw new RangeError("easting out of range (must be between 100 000 m and 999 999 m)");if(o<0||o>1e7)throw new RangeError("northing out of range (must be between 0 m and 10 000 000 m)")}if(r<1||r>60)throw new RangeError("zone number out of range (must be between 1 and 60)");if(h){if(1!==(h=h.toUpperCase()).length||-1===E.indexOf(h))throw new RangeError("zone letter out of range (must be between C and X)");u=h>="N"}var w=t-5e5,M=o;u||(M-=1e7);var p=M/e/(v*s),d=p+b*Math.sin(2*p)+m*Math.sin(4*p)+c*Math.sin(6*p)+l*Math.sin(8*p),g=Math.sin(d),z=Math.pow(g,2),x=Math.cos(d),y=Math.tan(d),N=Math.pow(y,2),P=Math.pow(y,4),q=1-n*z,C=Math.sqrt(q),X=(1-n)/q,j=i*x*x,I=j*j,O=w/(v/C*e),S=Math.pow(O,2),U=Math.pow(O,3),W=Math.pow(O,4),_=Math.pow(O,5),D=Math.pow(O,6),F=(O-U/6*(1+2*N+j)+_/120*(5-2*j+28*N-3*I+8*a+24*P))/x;return{latitude:R(d-y/X*(S/2-W/24*(5+3*N+10*j-4*I-9*a))+D/720*(61+90*N+298*j+45*P-252*a-3*I)),longitude:R(F)+L(r)}},Object.defineProperty(t,"__esModule",{value:!0})});